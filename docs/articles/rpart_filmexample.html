<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rpart">
<title>Rpart Example: Predicting Horror Film Ratings • rpart</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Roboto_Mono-0.4.4/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rpart Example: Predicting Horror Film Ratings">
<meta property="og:description" content="rpart">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rpart</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.1.18</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/rpart_filmexample.html">Rpart Example: Predicting Horror Film Ratings</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bethatkinson/rpart/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Rpart Example: Predicting Horror Film Ratings</h1>
                        <h4 data-toc-skip class="author">Carly
Lupton-Smith</h4>
            
            <h4 data-toc-skip class="date">2022-12-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bethatkinson/rpart/blob/HEAD/vignettes/rpart_filmexample.Rmd" class="external-link"><code>vignettes/rpart_filmexample.Rmd</code></a></small>
      <div class="d-none name"><code>rpart_filmexample.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In this vignette, we will be displaying an example of rpart applied
to a dataset of horror films. The data contains information about the
film genre, release date, reviews, run time, case, budget, etc. We will
be using rpart to develop a model that predicts rating based on some
factors of the movie. We are therefore working to answer the question,
what factors of horror movies make them more likely to have a good
rating?</p>
<p>This data can be found at: <a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-10-22" class="external-link uri">https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-10-22</a>.
This link also contains a data dictionary.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">current_wd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">current_wd</span>, <span class="st">"data"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">current_wd</span>, <span class="st">"data"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">current_wd</span>, <span class="st">"data"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="st">"horror_films.csv"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">horror_films</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"horror_films.csv"</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">horror_films</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-10-22/horror_movies.csv"</span><span class="op">)</span></span>
<span>  <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">horror_films</span>, <span class="st">"horror_films.csv"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We can first get a glimpse of the data and the distribution of the
film ratings. We will be removing any films without a rating.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bethatkinson/rpart" class="external-link">rpart</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">horror_films</span> <span class="op">&lt;-</span> <span class="va">horror_films</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">review_rating</span><span class="op">)</span><span class="op">==</span><span class="cn">F</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">horror_films</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 3,076</span></span>
<span><span class="co">## Columns: 12</span></span>
<span><span class="co">## $ title             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Gut (2012)", "Treasure Chest of Horrors II (2013)",…</span></span>
<span><span class="co">## $ genres            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Drama| Horror| Thriller", "Comedy| Horror| Thriller…</span></span>
<span><span class="co">## $ release_date      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "26-Oct-12", "23-Apr-13", "10-Apr-15", "3-Jun-14", "…</span></span>
<span><span class="co">## $ release_country   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "USA", "USA", "USA", "USA", "Japan", "Spain", "India…</span></span>
<span><span class="co">## $ movie_rating      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, "NOT RATED", NA, "NOT RATED", NA, "PG-13", NA, N…</span></span>
<span><span class="co">## $ review_rating     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 3.9, 3.7, 5.8, 5.1, 6.5, 4.6, 5.4, 5.3, 3.6, 5.9, 2.…</span></span>
<span><span class="co">## $ movie_run_time    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "91 min", "82 min", "80 min", "90 min", "117 min", "…</span></span>
<span><span class="co">## $ plot              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Directed by Elias. With Jason Vail, Nicholas Wilder…</span></span>
<span><span class="co">## $ cast              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Jason Vail|Nicholas Wilder|Sarah Schoofs|Kirstianna…</span></span>
<span><span class="co">## $ language          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "English", "English", "Italian", "English", "Japanes…</span></span>
<span><span class="co">## $ filming_locations <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "New York, USA", "Baltimore, Maryland, USA", NA, NA,…</span></span>
<span><span class="co">## $ budget            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, "$7,000", NA, NA, "I…</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">horror_films</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">review_rating</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>bins<span class="op">=</span><span class="fl">20</span>, color<span class="op">=</span><span class="st">"black"</span>, fill<span class="op">=</span><span class="st">"white"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Histogram of Film Ratings"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"Horror Films from IMDB"</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"Films were released between 2012-2017"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Rating"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Number of Films"</span><span class="op">)</span></span></code></pre></div>
<p><img src="rpart_filmexample_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="pre-processing-variables">Pre-Processing Variables<a class="anchor" aria-label="anchor" href="#pre-processing-variables"></a>
</h2>
<p>The variables that seem most relevant to our outcome of review rating
are genre, release year, release country, movie rating, movie run time,
and budget.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">perc_mis</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">var</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">variable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">horror_films</span>, <span class="op">{</span><span class="op">{</span><span class="va">var</span><span class="op">}</span><span class="op">}</span><span class="op">)</span></span>
<span>  <span class="va">percent_na</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">variable</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">variable</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span>,<span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">percent_na</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">mis</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_dbl</a></span><span class="op">(</span>.x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"genres"</span>,<span class="st">"release_date"</span>,<span class="st">"release_country"</span>,</span>
<span>                  <span class="st">"movie_rating"</span>,<span class="st">"movie_run_time"</span>,<span class="st">"budget"</span><span class="op">)</span>,</span>
<span>        .f <span class="op">=</span> <span class="va">perc_mis</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">mis</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"genres"</span>,<span class="st">"release_date"</span>,<span class="st">"release_country"</span>,</span>
<span>                  <span class="st">"movie_rating"</span>,<span class="st">"movie_run_time"</span>,<span class="st">"budget"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mis</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##          genres    release_date release_country    movie_rating  movie_run_time </span></span>
<span><span class="co">##             0.0             0.0             0.0            53.1            12.3 </span></span>
<span><span class="co">##          budget </span></span>
<span><span class="co">##            62.7</span></span></code></pre>
<p>From the above missingness percentages, we see that there is very
high missingness for movie rating and budget. From this information, it
might make most sense to focus on the remaining four variables.</p>
<p>Now we will perform some pre-processing on the remaining
variables.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pattern_detect</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">pattern</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">horror_films</span><span class="op">$</span><span class="va">genres</span>, <span class="va">pattern</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="va">pattern</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">genre</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_dfc</a></span><span class="op">(</span>.x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Drama"</span>,<span class="st">"Romance"</span>,<span class="st">"Comedy"</span>,<span class="st">"Horror"</span>,<span class="st">"Mystery"</span>,</span>
<span>                <span class="st">"Thriller"</span>,<span class="st">"Fantasy"</span>,<span class="st">"War"</span>,<span class="st">"Action"</span>,<span class="st">"Adventure"</span>,</span>
<span>                <span class="st">"Sci-Fi"</span>,<span class="st">"Western"</span>,<span class="st">"Crime"</span>,<span class="st">"Family"</span>,<span class="st">"Animation"</span>,</span>
<span>                <span class="st">"Sport"</span>,<span class="st">"History"</span>,<span class="st">"Biography"</span>,<span class="st">"Adult"</span>,<span class="st">"Musical"</span><span class="op">)</span>,</span>
<span>        .f<span class="op">=</span><span class="va">pattern_detect</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">genre</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   Drama Romance Comedy Horror Mystery Thriller Fantasy War Action Adventure</span></span>
<span><span class="co">## 1   508      95    498   3076     436     1319     221  14    321       115</span></span>
<span><span class="co">##   Sci-Fi Western Crime Family Animation Sport History Biography Adult Musical</span></span>
<span><span class="co">## 1    295      14   113     11        38     4       6         4     1      12</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">genre_t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">genre</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">genre_t</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Number"</span></span>
<span><span class="va">genre_t</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Number</span> <span class="op">&gt;=</span> <span class="fl">20</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html" class="external-link">rownames_to_column</a></span><span class="op">(</span><span class="st">"Genre"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">Genre</span>,<span class="op">-</span><span class="va">Number</span><span class="op">)</span>, y<span class="op">=</span><span class="va">Number</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle<span class="op">=</span><span class="fl">45</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Genre"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Number of Films"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Number of Films with each Genre Label"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"Horror Films from IMDB"</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"Films could have more than one genre; genres with less than 20 films are excluded"</span><span class="op">)</span></span></code></pre></div>
<p><img src="rpart_filmexample_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>We can see that there are many genres that only appear in a small
percentage of the films, and that all films are marked as Horror. Let’s
create a couple of new variables that break down the more popular
genres: thriller, drama, comedy, and mystery.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span><span class="va">horror_rel</span> <span class="op">&lt;-</span> <span class="va">horror_films</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>release_year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">release_date</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2012"</span>,<span class="st">"2013"</span>,<span class="st">"2014"</span>,</span>
<span>                                                   <span class="st">"2015"</span>,<span class="st">"2016"</span>,<span class="st">"2017"</span><span class="op">)</span>,</span>
<span>                               <span class="va">release_date</span>,</span>
<span>                               <span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">dmy</a></span><span class="op">(</span><span class="va">release_date</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         release_year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">release_year</span><span class="op">)</span>,</span>
<span>         release_country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">release_country</span> <span class="op">==</span> <span class="st">"USA"</span>, <span class="st">"USA"</span>, <span class="st">"Other"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         genre_thriller <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">genres</span>, <span class="st">"Thriller"</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>         genre_drama <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">genres</span>, <span class="st">"Drama"</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>         genre_comedy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">genres</span>, <span class="st">"Comedy"</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>         genre_mystery <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">genres</span>, <span class="st">"Mystery"</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>         movie_run_time <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html" class="external-link">str_remove</a></span><span class="op">(</span><span class="va">movie_run_time</span>, <span class="st">" min"</span><span class="op">)</span>,</span>
<span>         movie_run_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">movie_run_time</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>As one more step of descriptively investigating the data, let’s look
at the distribution of review ratings across each year.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">horror_rel</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">release_year</span><span class="op">)</span>, y<span class="op">=</span><span class="va">review_rating</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Movie Release Year"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Rating"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Distribution of Movie Ratings by Release Years"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"2012-2017"</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"Horror films only"</span><span class="op">)</span></span></code></pre></div>
<p><img src="rpart_filmexample_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>We can see there do not seem to be major differences in the
distributions, but there might be a slight upward trend.</p>
<p>Finally, one last plot dives into movie run time based on genre. We
see here that there do not seem to be major differences in the
distribution of run time depending on the movie genre.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">horror_rel</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Logic.html" class="external-link">xor</a></span><span class="op">(</span><span class="va">genre_drama</span> <span class="op">==</span> <span class="fl">1</span>, <span class="va">genre_comedy</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>DorC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">genre_drama</span><span class="op">==</span><span class="fl">1</span>, <span class="st">"Horror-Drama"</span>, <span class="st">"Horror-Comedy"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">movie_run_time</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>bins<span class="op">=</span><span class="fl">30</span>, color<span class="op">=</span><span class="st">"black"</span>, fill<span class="op">=</span><span class="st">"white"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">DorC</span>, nrow<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Movie Run Time"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Number of Films"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Movie Run Time Distribution based on Genre"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"Horror-Comedy versus Horror-Drama"</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"Removed movies that were both drama and comedy"</span><span class="op">)</span></span></code></pre></div>
<p><img src="rpart_filmexample_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="rpart">Rpart<a class="anchor" aria-label="anchor" href="#rpart"></a>
</h2>
<p>Now we will demonstrate how to use rpart. We will create a training
and testing set, fit the model, prune it, and interpret the output and
estimate the testing error.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rsample.tidymodels.org" class="external-link">rsample</a></span><span class="op">)</span></span>
<span><span class="va">split</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/initial_split.html" class="external-link">initial_split</a></span><span class="op">(</span><span class="va">horror_rel</span>, prop<span class="op">=</span><span class="fl">3</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/initial_split.html" class="external-link">training</a></span><span class="op">(</span><span class="va">split</span><span class="op">)</span></span>
<span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/initial_split.html" class="external-link">testing</a></span><span class="op">(</span><span class="va">split</span><span class="op">)</span></span></code></pre></div>
<p>Now we fit the model.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rpart.html">rpart</a></span><span class="op">(</span><span class="va">review_rating</span> <span class="op">~</span> <span class="va">movie_run_time</span> <span class="op">+</span> <span class="va">release_country</span> <span class="op">+</span> <span class="va">release_year</span> <span class="op">+</span></span>
<span>               <span class="va">genre_thriller</span> <span class="op">+</span> <span class="va">genre_drama</span> <span class="op">+</span> <span class="va">genre_comedy</span> <span class="op">+</span> <span class="va">genre_mystery</span>,</span>
<span>             data <span class="op">=</span> <span class="va">train</span><span class="op">)</span></span></code></pre></div>
<p>Now we will prune the model.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/printcp.html">printcp</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Regression tree:</span></span>
<span><span class="co">## rpart(formula = review_rating ~ movie_run_time + release_country + </span></span>
<span><span class="co">##     release_year + genre_thriller + genre_drama + genre_comedy + </span></span>
<span><span class="co">##     genre_mystery, data = train)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Variables actually used in tree construction:</span></span>
<span><span class="co">## [1] movie_run_time release_year  </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Root node error: 5132.1/2307 = 2.2246</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## n= 2307 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##         CP nsplit rel error  xerror     xstd</span></span>
<span><span class="co">## 1 0.033717      0   1.00000 1.00084 0.027865</span></span>
<span><span class="co">## 2 0.022651      1   0.96628 0.97246 0.028108</span></span>
<span><span class="co">## 3 0.010000      2   0.94363 0.95249 0.027206</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">pfit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prune.rpart.html">prune</a></span><span class="op">(</span><span class="va">fit</span>, cp<span class="op">=</span><span class="va">fit</span><span class="op">$</span><span class="va">cptable</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min</a></span><span class="op">(</span><span class="va">fit</span><span class="op">$</span><span class="va">cptable</span><span class="op">[</span>,<span class="st">"xerror"</span><span class="op">]</span><span class="op">)</span>, <span class="st">"CP"</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>Now we will investigate our resulting model.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.milbo.org/rpart-plot/index.html" class="external-link">rpart.plot</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rpart.plot/man/rpart.plot.html" class="external-link">rpart.plot</a></span><span class="op">(</span><span class="va">pfit</span><span class="op">)</span></span></code></pre></div>
<p><img src="rpart_filmexample_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#post(pfit, file = "resulting_tree.pdf",</span></span>
<span><span class="co">#     title = "Pruned Regression Tree for Movie Rating")</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">pfit</span>, <span class="va">test</span><span class="op">)</span></span>
<span><span class="co"># test %&gt;%</span></span>
<span><span class="co">#   bind_cols(pred_rating = test_pred) %&gt;%</span></span>
<span><span class="co">#   ggplot(aes(x=review_rating, y=pred_rating)) +</span></span>
<span><span class="co">#   geom_point() +</span></span>
<span><span class="co">#   geom_abline(slope=1, intercept=0) +</span></span>
<span><span class="co">#   xlab("True Rating") + ylab("Predicted Rating")</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"The MSE for the testing data is"</span>, </span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="op">(</span><span class="va">test</span><span class="op">$</span><span class="va">review_rating</span> <span class="op">-</span> <span class="va">test_pred</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "The MSE for the testing data is 1.94"</span></span></code></pre>
<p>We can see that we have pretty high MSE in our testing dataset,
considering that the range of the ratings is from 1-10. This indicates
that it would be worth exploring other variables to better model horror
movie ratings. In the model that we do have here, we see that the tree
splits on movie run time and release year, where movies that are longer
have a higher average rating. For movies that are less than the cutoff,
the movies that were released earlier have a lower average rating than
movies released later.</p>
</div>
<div class="section level2">
<h2 id="functions-used">Functions Used<a class="anchor" aria-label="anchor" href="#functions-used"></a>
</h2>
<p>Tidyverse/lubridate: (1) glimpse, (2) mutate, (3) select, (4) filter,
(5) year, (6) dmy, (7) str_detect, etc. Purrr: (1) map_dbl, (2) map_int
Ggplot: (1) geom_histogram, (2) geom_bar, (3) geom_boxplot Rpart: (1)
rpart, (2) prune, etc.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Terry Therneau, Beth Atkinson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
